<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="객체 글쓴이는 일반적으로 객체 지향 프로그래밍Object-Oriented Programming이라고 불리는 개념의 객체 단위 추상화의 중요성을 강조하기 위해 ‘객체 중심 프로그래밍’이라는 용어를 사용하고 있다.   객체는 객체 인스턴스와 이를 만들기 위한 클래스 그 자체를 포함하는 개념이다.  클래스와 객체 인스턴스절차 중심 프로그래밍과는 다르게, 객체 중">
<meta property="og:type" content="article">
<meta property="og:title" content="Cocoa Internals - 객체">
<meta property="og:url" content="http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/index.html">
<meta property="og:site_name" content="Presto">
<meta property="og:description" content="객체 글쓴이는 일반적으로 객체 지향 프로그래밍Object-Oriented Programming이라고 불리는 개념의 객체 단위 추상화의 중요성을 강조하기 위해 ‘객체 중심 프로그래밍’이라는 용어를 사용하고 있다.   객체는 객체 인스턴스와 이를 만들기 위한 클래스 그 자체를 포함하는 개념이다.  클래스와 객체 인스턴스절차 중심 프로그래밍과는 다르게, 객체 중">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-01-17T15:51:55.000Z">
<meta property="article:modified_time" content="2020-01-17T15:52:51.904Z">
<meta property="article:author" content="Presto">
<meta property="article:tag" content="ios">
<meta property="article:tag" content="cocoa">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Cocoa Internals - 객체</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
<meta name="generator" content="Hexo 4.2.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Posts</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/categories/">Category</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2020/01/18/Cocoa-Internals-%EB%A9%94%EB%AA%A8%EB%A6%AC-%EA%B4%80%EB%A6%AC/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2020/01/18/%EC%95%BC%EA%B3%B0%EC%9D%98-%EC%8A%A4%EC%9C%84%ED%94%84%ED%8A%B8-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%ED%99%95%EC%9E%A5/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/" target="_blank" rel="noopener"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&text=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&title=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&is_video=false&description=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Cocoa Internals - 객체&body=Check out this article: http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&title=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&title=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&title=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&title=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&name=Cocoa Internals - 객체&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&t=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#객체"><span class="toc-number">1.</span> <span class="toc-text">객체</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#클래스와-객체-인스턴스"><span class="toc-number">1.1.</span> <span class="toc-text">클래스와 객체 인스턴스</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#객체에-대한-철학"><span class="toc-number">1.1.1.</span> <span class="toc-text">객체에 대한 철학</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#객체-중심-프로그래밍"><span class="toc-number">1.1.2.</span> <span class="toc-text">객체 중심 프로그래밍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#랑그"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">랑그</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#파롤"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">파롤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Objective-C-객체"><span class="toc-number">1.1.3.</span> <span class="toc-text">Objective-C 객체</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Objective-C-기초-문법"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">Objective-C 기초 문법</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#클래스-명세와-객체-인스턴스"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">클래스 명세와 객체 인스턴스</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Objective-C-2-0-이후-변화"><span class="toc-number">1.1.4.</span> <span class="toc-text">Objective-C 2.0 이후 변화</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Swift-네이티브-객체"><span class="toc-number">1.1.5.</span> <span class="toc-text">Swift 네이티브 객체</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-네이티브-객체의-생성-및-소멸-함수"><span class="toc-number">1.1.5.1.</span> <span class="toc-text">Swift 네이티브 객체의 생성 및 소멸 함수</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-네이티브-객체의-getter-및-setter-함수"><span class="toc-number">1.1.5.2.</span> <span class="toc-text">Swift 네이티브 객체의 getter 및 setter 함수</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Swift-Objective-C-호환-객체"><span class="toc-number">1.1.6.</span> <span class="toc-text">Swift - Objective-C 호환 객체</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#요약"><span class="toc-number">1.1.7.</span> <span class="toc-text">요약</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#객체-정체성과-등가성"><span class="toc-number">1.2.</span> <span class="toc-text">객체 정체성과 등가성</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Objective-C-객체와-메모리-구조"><span class="toc-number">1.2.1.</span> <span class="toc-text">Objective-C 객체와 메모리 구조</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#객체-정체성"><span class="toc-number">1.2.2.</span> <span class="toc-text">객체 정체성</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#객체-등가성"><span class="toc-number">1.2.3.</span> <span class="toc-text">객체 등가성</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#객체-예외성"><span class="toc-number">1.2.4.</span> <span class="toc-text">객체 예외성</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift의-문자열"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">Swift의 문자열</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hash-메소드"><span class="toc-number">1.2.5.</span> <span class="toc-text">-hash 메소드</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift의-Hashable-프로토콜"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">Swift의 Hashable 프로토콜</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#요약-1"><span class="toc-number">1.2.6.</span> <span class="toc-text">요약</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#객체-사이-관계"><span class="toc-number">1.3.</span> <span class="toc-text">객체 사이 관계</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#메타-클래스"><span class="toc-number">1.3.1.</span> <span class="toc-text">메타 클래스</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#상속"><span class="toc-number">1.3.2.</span> <span class="toc-text">상속</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#is-a-관계와-has-a-관계"><span class="toc-number">1.3.3.</span> <span class="toc-text">is-a 관계와 has-a 관계</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#요약-2"><span class="toc-number">1.3.4.</span> <span class="toc-text">요약</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Objective-C-런타임"><span class="toc-number">1.4.</span> <span class="toc-text">Objective-C 런타임</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#기존-런타임과-최신-런타임"><span class="toc-number">1.4.1.</span> <span class="toc-text">기존 런타임과 최신 런타임</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#메세지-디스패치"><span class="toc-number">1.4.2.</span> <span class="toc-text">메세지 디스패치</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#객체에-메세지를-보내는-과정"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">객체에 메세지를 보내는 과정</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#최신-런타임-API"><span class="toc-number">1.4.3.</span> <span class="toc-text">최신 런타임 API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#요약-3"><span class="toc-number">1.4.4.</span> <span class="toc-text">요약</span></a></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Cocoa Internals - 객체
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Presto</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2020-01-17T15:51:55.000Z" itemprop="datePublished">2020-01-18</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/iOS/">iOS</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/cocoa/" rel="tag">cocoa</a>, <a class="tag-link" href="/tags/ios/" rel="tag">ios</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="객체"><a href="#객체" class="headerlink" title="객체"></a>객체</h1><blockquote>
<p>글쓴이는 일반적으로 객체 지향 프로그래밍<em>Object-Oriented Programming</em>이라고 불리는 개념의 객체 단위 추상화의 중요성을 강조하기 위해 ‘객체 중심 프로그래밍’이라는 용어를 사용하고 있다.</p>
</blockquote>
<blockquote>
<p>객체는 객체 인스턴스와 이를 만들기 위한 클래스 그 자체를 포함하는 개념이다.</p>
</blockquote>
<h2 id="클래스와-객체-인스턴스"><a href="#클래스와-객체-인스턴스" class="headerlink" title="클래스와 객체 인스턴스"></a>클래스와 객체 인스턴스</h2><p>절차 중심 프로그래밍과는 다르게, 객체 중심 프로그래밍은 객체 안에 프로퍼티와 메소드의 형태로 변수와 함수를 구현하고, 프로그램을 구성하는 객체들끼리 메세지를 주고받아 상호 협력하는 형태로 동작한다.</p>
<ul>
<li>클래스 : 개발자가 문제 해결을 위해 추상화하여 만드는 코드</li>
<li>객체 : 클래스가 메모리에 구체화된 실체. 인스턴스. 하나의 클래스 코드에서 여러 개의 객체가 생성될 수 있다.</li>
</ul>
<h3 id="객체에-대한-철학"><a href="#객체에-대한-철학" class="headerlink" title="객체에 대한 철학"></a>객체에 대한 철학</h3><p>서양 철학에서, 객체<em>object</em>라는 단어는 나를 중심으로 세상을 바라봤을 때 세상의 모든 것을 지칭한다.</p>
<p>이처럼 자연에 실존하는 객체를 그에 대응하는 형체가 없는 개념과 언어로 추상화시켜 생각하는 방식을 프로그래밍에 도입한 것이 객체 중심 프로그래밍이다.</p>
<p>실생활의 객체들을 책임과 역할에 따라 구분하고, 객체 사이의 관계와 연결하도록 생각하는 방식은 객체 중심 프로그래밍 패러다임을 이루는 골격이다.</p>
<table>
<thead>
<tr>
<th>추상화</th>
<th>구체화</th>
</tr>
</thead>
<tbody><tr>
<td>클래스</td>
<td>객체</td>
</tr>
<tr>
<td>개념</td>
<td>구체</td>
</tr>
<tr>
<td>일반화</td>
<td>개별화</td>
</tr>
<tr>
<td>무형</td>
<td>유형</td>
</tr>
<tr>
<td>추상화</td>
<td>구상화</td>
</tr>
<tr>
<td>이론</td>
<td>실제</td>
</tr>
</tbody></table>
<h3 id="객체-중심-프로그래밍"><a href="#객체-중심-프로그래밍" class="headerlink" title="객체 중심 프로그래밍"></a>객체 중심 프로그래밍</h3><h4 id="랑그"><a href="#랑그" class="headerlink" title="랑그"></a>랑그</h4><p>langue</p>
<p>같은 언어를 사용하는 사람들끼리 생각하는 방식에 대한 원칙.</p>
<p>프로그래밍에 도입하여 생각해봤을 때, 어떠한 알고리즘(개념)이라고 말할 수 있음.</p>
<h4 id="파롤"><a href="#파롤" class="headerlink" title="파롤"></a>파롤</h4><p>parole</p>
<p>실제 대화나 상황에 따라서 표현이나 발음이 달라지는 것.</p>
<p>프로그래밍에 도입하여 생각해봤을 때, 어떠한 알고리즘의 각기 다른 구현이라고 말할 수 있음.</p>
<hr>
<p>SOLID 법칙은 프로그램을 객체 중심으로 설계하기 위한 다섯 가지 원칙을 제시한다. </p>
<p>(단일 책임 / 개방-폐쇄 / 리스코프 치환 / 인터페이스 분리 / 의존성 역전)</p>
<p>이를 활용하면 객체가 어떻게 동작할지 잘 추상화하여, 명확하고 깔끔한 책임 구조, 높은 응집력과 낮은 의존성, 변화에 대한 유용성 등에서 이점을 얻을 수 있다.</p>
<h3 id="Objective-C-객체"><a href="#Objective-C-객체" class="headerlink" title="Objective-C 객체"></a>Objective-C 객체</h3><h4 id="Objective-C-기초-문법"><a href="#Objective-C-기초-문법" class="headerlink" title="Objective-C 기초 문법"></a>Objective-C 기초 문법</h4><ul>
<li>+로 시작하는 메소드는 클래스 메소드</li>
<li>-로 시작하는 메소드는 인스턴스 메소드</li>
</ul>
<h4 id="클래스-명세와-객체-인스턴스"><a href="#클래스-명세와-객체-인스턴스" class="headerlink" title="클래스 명세와 객체 인스턴스"></a>클래스 명세와 객체 인스턴스</h4><p>메모리에 구체화된 객체 인스턴스는 해당 클래스 코드를 공유하며, 다른 인스턴스와는 구분되는 고유한 데이터를 가진다.</p>
<p>이처럼 클래스로 작성한 코드는 모든 객체 인스턴스가 공유하며, 클래스 명세를 기준으로 만들어진 각각의 객체 인스턴스가 클래스 코드를 재사용한다.</p>
<h3 id="Objective-C-2-0-이후-변화"><a href="#Objective-C-2-0-이후-변화" class="headerlink" title="Objective-C 2.0 이후 변화"></a>Objective-C 2.0 이후 변화</h3><ul>
<li><code>objc_object</code> 구조체는 객체에 대한 타입이다.<ul>
<li>Objective-C 2.0부터 인스턴스의 클래스를 가리키는 <code>isa</code> 포인터에 직접 접근할 수 없다.</li>
<li><code>NSObject</code>의 <code>-(Class)class</code>에 메세지를 보내거나  <code>object_getClass()</code> 런타임 API를 사용하여 객체의 클래스를 알아낼 수 있다.</li>
</ul>
</li>
<li><code>id</code> 는 객체를 가리키는 포인터 타입이다.</li>
<li><code>Class</code> 는 Objective-C 클래스를 표현하는 불투명 타입이다.</li>
</ul>
<h3 id="Swift-네이티브-객체"><a href="#Swift-네이티브-객체" class="headerlink" title="Swift 네이티브 객체"></a>Swift 네이티브 객체</h3><p>Swift 중간 언어<em>Swift Intermediate Langugae</em>를 살펴본다.</p>
<blockquote>
<p>Swift 컴파일러 swiftc는 Swift 언어로 작성한 코드 파일을 읽어서 SIL을 만들고 LLVM IR로 변환하며, LLVM IR 최적화기를 거쳐 최종적으로 타겟 머신에 맞는 기계 코드를 생성한다.</p>
</blockquote>
<p>Swift 네이티브 객체는 Objective-C와의 호환을 위해 Objective-C 객체와 비슷한 모양으로 만들어지는 것을 확인할 수 있다.</p>
<p>Swift의 클래스 타입은 <code>NSObject</code>를 상속받지 않는 경우 Objective-C와 호환되지 않는 네이티브 객체가 된다.</p>
<blockquote>
<p>글쓴이는 독자의 이해를 돕기 위해 SIL 중 일부 코드를 수정하거나 제거하였다. 실제 SIL 표현과는 다를 수 있다.</p>
</blockquote>
<p>다음의 코드에 대한 SIL을 살펴본다.</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NativePen</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> id = <span class="number">512</span></span><br><span class="line">  <span class="keyword">var</span> sequence = <span class="number">1024</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Swift-네이티브-객체의-생성-및-소멸-함수"><a href="#Swift-네이티브-객체의-생성-및-소멸-함수" class="headerlink" title="Swift 네이티브 객체의 생성 및 소멸 함수"></a>Swift 네이티브 객체의 생성 및 소멸 함수</h4><p><code>allocating_init()</code>과 <code>init()</code>, <code>deallocating_deinit()</code>과 <code>deinit()</code> 함수가 만들어진다.</p>
<p>특히 Objective-C에서는 <code>alloc</code> 과정 후 <code>init</code> 과정을 나누어서 해야 하는데, Swift에서는 <code>allocating_init()</code> 함수 내부에서 <code>init()</code>을 호출하여 초기화하는 것을 확인할 수 있다.</p>
<p><code>deallocation_deinit()</code> 함수는 <code>self</code> 객체 레퍼런스를 <code>deinit()</code> 함수에 넘겨서 힙에 만들어진 레퍼런스 변수가 있다면 소멸시키는 과정을 거친다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; deallocating_deinit 간단 정리</span><br><span class="line">@&lt;변형된_이름&gt; : $@convention(method) (@owned NativePen) -&gt; () &#123;</span><br><span class="line">  %0 : $NativePen, let, name &quot;self&quot;, argno 1  &#x2F;&#x2F; 숨겨진 첫 번째 인자는 &#96;self&#96;.</span><br><span class="line">  %3 &#x3D; class.NativePen.deinit($0)             &#x2F;&#x2F; &#96;self&#96;에 대한 &#96;deinit()&#96; 호출.</span><br><span class="line">  %4 &#x3D; unchecked_ref_cast(%3)</span><br><span class="line">  dealloc_ref(%4)                             &#x2F;&#x2F; 자기 자신을 메모리에서 해제.</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; deinit 간단 정리</span><br><span class="line">@&lt;변형된_이름&gt; : $@convention(method) (@guaranteed NativePen) -&gt; @owned Buildin.NativeObject &#123;</span><br><span class="line">  %0 : $NativePen, let, name &quot;self&quot;, argno 1 &#x2F;&#x2F; 숨겨진 첫 번째 인자는 &#96;self&#96;.</span><br><span class="line">  %2 &#x3D; unchecked_ref_cast($0)</span><br><span class="line">  return %2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; init 간단 정리</span><br><span class="line">@&lt;변형된_이름&gt; : $@convention(method) (@owned NativePen) -&gt; @owned NativePen &#123;</span><br><span class="line">  %0 : $NativePen, let, name &quot;self&quot;</span><br><span class="line">  %2 : mark_uninitialized([rootself], %0)</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;let id &#x3D; 512&#96; 초기화 과정.</span><br><span class="line">  &#x2F;&#x2F; Int 타입 &#x2F; 정수 리터럴로 작성된 512의 정보를 사용하여 Int 타입의 인스턴스 생성.</span><br><span class="line">  %4 &#x3D; metatype(Int.Type)</span><br><span class="line">  %5 &#x3D; integer_literal($Builtin.Int2048, 512)</span><br><span class="line">  %6 &#x3D; Swift.Int.init(%5, %4)</span><br><span class="line">  %7 &#x3D; ref_element_addr(%2 : $NativePen, #NativePen.id)</span><br><span class="line">  assign(%6 to %7)</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; &#96;var sequence &#x3D; 1024&#96; 초기화 과정.</span><br><span class="line">  &#x2F;&#x2F; Int 타입 &#x2F; 정수 리터럴로 작성된 1024의 정보를 사용하여 Int 타입의 인스턴스 생성.</span><br><span class="line">  %10 &#x3D; metatype(Int.Type)</span><br><span class="line">  %11 &#x3D; integer.literal($Builtin.Int2048, 1024)</span><br><span class="line">  %12 &#x3D; Swift.Int.init(%11, %10)</span><br><span class="line">  %13 &#x3D; ref_element_addr(%2 : $NativePen, #NativePen.sequence)</span><br><span class="line">  assign(%12 to %13)</span><br><span class="line">  </span><br><span class="line">  return %2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; allocating_init 간단 정리</span><br><span class="line">@&lt;변형된_이름&gt; : $@convention(thin) (@thick NativePen.Type) -&gt; @owned NativePen &#123;</span><br><span class="line">  %1 &#x3D; alloc_ref($NativePen)      &#x2F;&#x2F; 객체 생성을 위한 메모리 공간 할당.</span><br><span class="line">  %3 &#x3D; class.NativePen.init(%1)   &#x2F;&#x2F; 할당된 메모리 공간에 대하여 &#96;init()&#96; 호출.</span><br><span class="line">  return %3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Swift-네이티브-객체의-getter-및-setter-함수"><a href="#Swift-네이티브-객체의-getter-및-setter-함수" class="headerlink" title="Swift 네이티브 객체의 getter 및 setter 함수"></a>Swift 네이티브 객체의 getter 및 setter 함수</h4><p>Swift 클래스의 프로퍼티에 대하여 getter 함수와 setter 함수가 만들어진다.</p>
<p><code>id</code>는 <code>let</code>으로 선언되었으므로 setter가 만들어지지 않는다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; id.getter 간단 정리</span><br><span class="line">@&lt;변형된_이름&gt; : $@convention(method) (@guaranteed NativePen) -&gt; Int &#123;</span><br><span class="line">  %0 : $NativePen, let, name &quot;self&quot;, argno 1            &#x2F;&#x2F; 숨겨진 첫 번째 인자 &#96;self&#96;.</span><br><span class="line">  %2 &#x3D; ref_element_addr(%0 : $NativePen, #NativePen.id) &#x2F;&#x2F; &#96;self&#96;로부터 &#96;NativePen.id&#96; 참조.</span><br><span class="line">  %3 &#x3D; load(%2)                                         &#x2F;&#x2F; 참조된 &#96;NativePen.id&#96;로부터 값 복사.</span><br><span class="line">  return %3</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; sequence.getter 간단 정리</span><br><span class="line">@&lt;변형된_이름&gt; : $@convention(method) (@guaranteed NativePen) -&gt; Int &#123;</span><br><span class="line">  %0 : $NativePen, let, name &quot;self&quot;, argno 1                  &#x2F;&#x2F; 숨겨진 첫 번째 인자 &#96;self&#96;.</span><br><span class="line">  %2 &#x3D; ref_element_addr(%0 : $NativePen, $NativePen.sequence) &#x2F;&#x2F; &#96;self&#96;로부터 &#96;NativePen.sequence&#96; 참조.</span><br><span class="line">  %3 &#x3D; load(%2)                                               &#x2F;&#x2F; 참조된 &#96;NativePen.sequence&#96;로부터 값 복사.</span><br><span class="line">  return %3</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; sequence.setter 간단 정리</span><br><span class="line">@&lt;변형된_이름&gt; : $@convention(method) (Int, @guaranteed NativePen) -&gt; () &#123;</span><br><span class="line">  %0 : $Int, let, name &quot;value&quot;, argno 1                       &#x2F;&#x2F; 첫 번째 인자로 들어간 할당될 값</span><br><span class="line">  %1 : $NativePen, let, name &quot;self&quot;, argno 2                  &#x2F;&#x2F; 두 번째 인자로 들어간 &#96;self&#96;.</span><br><span class="line">  %4 &#x3D; ref_element_addr(%1 : $NativePen, #NativePen.sequence) &#x2F;&#x2F; &#96;self&#96;로부터 &#96;NativePen.sequence&#96; 참조.</span><br><span class="line">  assign(%0 to %4)                                            &#x2F;&#x2F; &#96;NativePen.sequence&#96; 참조에 할당될 값(%0) 할당.</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Swift-Objective-C-호환-객체"><a href="#Swift-Objective-C-호환-객체" class="headerlink" title="Swift - Objective-C 호환 객체"></a>Swift - Objective-C 호환 객체</h3><p>Objective-C 코드에서 Swift 객체를 사용하려면 해당 Swift 객체는 반드시 <code>NSObject</code>를 최상위 클래스로 지정하여 상속받아 만들어져야 한다.</p>
<p>Objective-C와의 호환을 위해 중간 코드에 변형이 생긴다. <code>NSObject</code>의 메소드를 호출하기도 하며, 레퍼런스 카운트를 관리하는 코드도 추가된다.</p>
<h3 id="요약"><a href="#요약" class="headerlink" title="요약"></a>요약</h3><p>디자인 패턴이나 객체 중심 디자인 원칙은 객체 중심으로 생각하는 과정을 반복적으로 경험하고 분석하여 규칙으로 만들어 놓은 것이다.</p>
<p>객체는 객관적이어야 한다. 객체를 표현한 코드는 누군가와 생각을 공유하기 위한 언어적 표현일 뿐이다.</p>
<p>Swift 네이티브 객체는 Objective-C 호환 객체와는 다르게 참조 계산 함수를 다루지 않고 부가적인 함수도 만들지 않는다.</p>
<p>Cocoa 프레임워크는 Swift 네이티브 객체를 사용하도록 포팅되고 있다.</p>
<h2 id="객체-정체성과-등가성"><a href="#객체-정체성과-등가성" class="headerlink" title="객체 정체성과 등가성"></a>객체 정체성과 등가성</h2><h3 id="Objective-C-객체와-메모리-구조"><a href="#Objective-C-객체와-메모리-구조" class="headerlink" title="Objective-C 객체와 메모리 구조"></a>Objective-C 객체와 메모리 구조</h3><p>낮은 메모리 주소부터 차례대로,</p>
<ul>
<li>텍스트 영역 (TEXT segment) <ul>
<li>프로그램 코드 포함</li>
</ul>
</li>
<li>데이터 영역 (DATA Segment)<ul>
<li>고정 값이 정해진 전역 변수 포함</li>
</ul>
</li>
<li>심벌 영역 (BSS Segment)<ul>
<li>초기 값을 0으로 할당하는 전역 변수 포함</li>
</ul>
</li>
<li>힙 영역 (HEAP Segment)<ul>
<li>낮은 주소에서 높은 주소로 메모리 적재</li>
<li>객체 포함</li>
</ul>
</li>
<li>스택 영역 (Stack Segment)<ul>
<li>높은 주소에서 낮은 주소로 (반대 방향으로) 메모리 적재</li>
<li>힙에 담긴 메모리 주소를 참조하는 포인터 포함</li>
</ul>
</li>
</ul>
<p>레퍼런스 카운트를 활용하여 객체 포인터가 유효하도록 보호한다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Pen *pen &#x3D; [[Pen alloc] init];</span><br></pre></td></tr></table></figure>

<p>위와 같은 코드로 <code>Pen</code> 클래스의 객체를 생성했다고 할 때,</p>
<ul>
<li>포인터 변수 <code>pen</code>은 스택 영역에 만들어진다.</li>
<li>포인터 변수가 가리키는 객체는 힙 영역에 만들어진다.</li>
<li>객체에 대한 클래스 자체는 프로그램이 로딩될 때 미리 힙 영역에 로드된다.</li>
<li>클래스의 메소드는 클래스명과 메소드명이 합쳐진 어떠한 형태를 가진 셀렉터(Selector)로 매핑되며, 구현부는 텍스트 영역에 기계어로 저장된다.</li>
</ul>
<h3 id="객체-정체성"><a href="#객체-정체성" class="headerlink" title="객체 정체성"></a>객체 정체성</h3><blockquote>
<p>정체성 : identity</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Pen *aPen &#x3D; [Pen new];</span><br><span class="line">Pen *bPen &#x3D; [Pen new];</span><br></pre></td></tr></table></figure>

<p>위와 같은 코드로 <code>aPen</code> 객체와 <code>bPen</code> 객체를 만들었을 때, 이 둘은 다른 정체성을 갖게 된다. </p>
<p>각각의 객체는 힙 영역의 각기 다른 메모리에 위치해 있기 때문이다.</p>
<p><code>bPen = aPen</code> 과 같은 코드를 작성하면 <code>bPen</code> 포인터는 <code>aPen</code>이 가리키고 있던 객체를 가리키게 되며, 그러므로 <code>aPen</code>과 <code>bPen</code>은 같은 정체성을 갖게 된다.</p>
<h3 id="객체-등가성"><a href="#객체-등가성" class="headerlink" title="객체 등가성"></a>객체 등가성</h3><blockquote>
<p>등가성 : equality</p>
</blockquote>
<p>어떠한 두 개의 포인터 변수가 같은 클래스로부터 나온 각기 다른 객체를 가리키지만, 각각의 객체가 그 속성에 대하여 서로 같은 값을 가지고 있다면 등가성이 성립된다.</p>
<p>등가성을 비교하기 위해서는 <code>==</code> 연산자 대신 <code>-isEqual:</code> 메소드를 재정의하여 사용한다.</p>
<h3 id="객체-예외성"><a href="#객체-예외성" class="headerlink" title="객체 예외성"></a>객체 예외성</h3><p>모든 Cocoa 객체가 힙 영역에 생성되는 것은 아니다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">NSString* aPenName &#x3D; @&quot;BluePen&quot;;</span><br><span class="line">NSString* bPenName &#x3D; @&quot;BluePen&quot;;</span><br></pre></td></tr></table></figure>

<p><code>NSString</code> 클래스의 경우 <code>NSObject</code>를 상속받는 Cocoa 클래스 중 유일하게 전역 변수로 선언될 수 있다.</p>
<p>“BluePen”이라는 문자열 리터럴 값은 텍스트 영역에 저장되며, <code>aPenName</code> 변수는 전역 변수 형태로 데이터 영역에 만들어진다.</p>
<p><code>bPenName</code>은 <code>aPenName</code>이 가리키는 문자열 리터럴을 공유하게 되어 같은 텍스트 영역을 사용하고 해당 객체는 전역 변수 형태로 할당된다.</p>
<p>결과적으로 두 개의 변수는 스택 영역의 각기 다른 주소에 저장되나, 이들이 가리키는 객체 및 사용하는 문자열 리터럴은 같은 것들을 가리키게 된다.</p>
<p>그러므로 <code>aPenName</code>과 <code>bPenName</code>는 동일한 정체성을 갖게 된다. (문자열 인터닝)</p>
<h4 id="Swift의-문자열"><a href="#Swift의-문자열" class="headerlink" title="Swift의 문자열"></a>Swift의 문자열</h4><p>Swift의 <code>String</code> 구조체 인스턴스는 네이티브 문자열 객체를 만들 수도 있고, <code>NSString</code>을 연결해서 사용할 수도 있다.</p>
<p>네이티브 문자열 객체의 경우 텍스트 영역에 있는 문자열을 <code>OpaquePointer</code> 형태의 포인터로 그대로 연결하는 방식을 사용한다.</p>
<h3 id="hash-메소드"><a href="#hash-메소드" class="headerlink" title="-hash 메소드"></a>-hash 메소드</h3><p><code>NSDictionary</code>와 같은 컬렉션 객체는 <code>-hash</code> 메소드를 사용하여 해시 값을 비교하므로 <code>-isEqual</code> 메소드를 재정의한 경우 <code>-hash</code> 메소드도 재정의해야 할 필요가 있다.</p>
<p>기본적으로 <code>NSObject</code>의 <code>-hash</code> 메소드는 메모리 포인터 값을 <code>NSUInteger</code> 타입의 숫자로 바꾸는 역할을 한다.</p>
<h4 id="Swift의-Hashable-프로토콜"><a href="#Swift의-Hashable-프로토콜" class="headerlink" title="Swift의 Hashable 프로토콜"></a>Swift의 Hashable 프로토콜</h4><p>해시 가능한 타입은 <code>Hashable</code> 프로토콜을 준수하며, 이는 <code>hashValue()</code> 메소드와 <code>==()</code> 메소드를 요구한다.</p>
<h3 id="요약-1"><a href="#요약-1" class="headerlink" title="요약"></a>요약</h3><p>객체는 메모리에 할당되면 고유한 정체성을 갖게 된다. 그러나 고유한 객체 중 모든 속성이 같은 객체도 존재할 수 있다.</p>
<p>등가성이 성립하는지 확인하기 위해서는 <code>-isEqual:</code>를 재정의하여 사용할 필요가 있다.</p>
<p><code>-hash</code> 메소드도 구현해야 해시 값을 활용하는 <code>NSDictionary</code>와 같은 컬렉션 객체 내부에서 비교가 가능해진다.</p>
<h2 id="객체-사이-관계"><a href="#객체-사이-관계" class="headerlink" title="객체 사이 관계"></a>객체 사이 관계</h2><h3 id="메타-클래스"><a href="#메타-클래스" class="headerlink" title="메타 클래스"></a>메타 클래스</h3><p>객체 인스턴스의 <code>isa</code> 포인터는 클래스를 가리킨다. 클래스의 <code>isa</code> 포인터는 메타 클래스를 가리킨다.</p>
<p>클래스는 인스턴스 메소드 목록과 코드를 갖는다. 메타 클래스는 클래스 메소드 목록과 코드를 갖는다.</p>
<h3 id="상속"><a href="#상속" class="headerlink" title="상속"></a>상속</h3><p>객체 중심 프로그래밍 언어가 갖는 특징</p>
<ul>
<li>추상화한 클래스 명세</li>
<li>객체 인스턴스의 활용</li>
<li>캡슐화</li>
<li>상속</li>
<li>다형성</li>
</ul>
<p>이 중 상속은 객체 사이의 관계와 밀접한 연관이 있다.</p>
<p>Objective-C의 객체를 나타내는 <code>objc_object</code> 구조체는 클래스에 대한 메타 클래스를 연결하는 <code>isa</code> 포인터와 상속받은 상위 클래스를 가리키는 <code>super_class</code> 포인터를 포함한다. 최상위 클래스의 경우 <code>super</code> 포인터는 <code>nil</code> 값을 갖는다.</p>
<p>서브클래스의 <code>super</code>는 상위 클래스를 가리킨다. 서브클래스의 메타 클래스의 <code>super</code>는 상위 클래스의 메타 클래스를 가리킨다.</p>
<h3 id="is-a-관계와-has-a-관계"><a href="#is-a-관계와-has-a-관계" class="headerlink" title="is-a 관계와 has-a 관계"></a>is-a 관계와 has-a 관계</h3><p>일반적으로 객체 중심 언어에서 is-a 관계는 객체 인스턴스와 클래스의 관계 또는 서브 클래스와 수퍼 클래스의 상속 관계를 나타낸다.</p>
<p>Objective-C에서 객체 인스턴스와 클래스의 관계는 <code>isa</code>로, 서브 클래스와 수퍼 클래스의 관계는 <code>super</code>로 나타낸다.</p>
<p>has-a 관계는 강한 참조 결합성을 갖는 구성 관계와, 약한 참조 결합성을 갖는 집합 관계로 구분한다.</p>
<ul>
<li>구성 관계의 경우 참조하는 객체와 하위 객체가 동일한 생명 주기를 갖는다.<ul>
<li>ARC의 strong 개념과 동일</li>
</ul>
</li>
<li>집합 관계의 경우 참조하는 객체가 사라지더라도 하위 객체는 사라지지 않는다.<ul>
<li>ARC의 weak 개념과 동일</li>
</ul>
</li>
</ul>
<h3 id="요약-2"><a href="#요약-2" class="headerlink" title="요약"></a>요약</h3><p>상속 관계는 객체 사이의 관계를 바꾸기 위한 유지보수나 리팩토링이 어려운 밀결합 형태이다.</p>
<p>이를 해결하기 위해 Objective-C에서는 카테고리를 사용하여 객체를 확장하는 것을 권장한다.</p>
<h2 id="Objective-C-런타임"><a href="#Objective-C-런타임" class="headerlink" title="Objective-C 런타임"></a>Objective-C 런타임</h2><p>클래스와 메타 클래스를 메모리 로드하는 것과 같은 역할은 Objective-C 런타임이 담당한다.</p>
<p>런타임은 실행 중에 객체에게 보내는 메세지를 처리할 메소드를 찾거나, 객체 메모리 관리 및 동적 타입 변환 등을 처리하는 C 함수 라이브러리다.</p>
<h3 id="기존-런타임과-최신-런타임"><a href="#기존-런타임과-최신-런타임" class="headerlink" title="기존 런타임과 최신 런타임"></a>기존 런타임과 최신 런타임</h3><p>32bit OS X에서 동작하는 런타임 라이브러리를 기존 런타임<em>legacy runtime</em>이라고 부른다.</p>
<p>OS X 10.5 이후 및 iOS에서 동작하는 런타임을 최신 런타임<em>modern runtime</em>이라고 부른다.</p>
<p>최신 런타임에는 Objective-C에 추가된 프로퍼티나 빠른 탐색, ARC, 블록 기능을 위한 개선이 이루어졌다.</p>
<h3 id="메세지-디스패치"><a href="#메세지-디스패치" class="headerlink" title="메세지 디스패치"></a>메세지 디스패치</h3><p>Objective-C는 객체의 메소드를 직접 호출하지 않고, 객체에 메세지를 보내는 방식으로 동작한다.</p>
<h4 id="객체에-메세지를-보내는-과정"><a href="#객체에-메세지를-보내는-과정" class="headerlink" title="객체에 메세지를 보내는 과정"></a>객체에 메세지를 보내는 과정</h4><ol>
<li>클래스에 메소드를 선언할 때는 리턴 값 / 메소드 이름 / 인자 값 타입 및 변수명을 순서대로 명시한다.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- (void) replacePen:(Pen *) pen1 withPen:(Pen*) pen2</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>객체 인스턴스의 메소드를 호출하기 위해 다음과 같이 인스턴스에 메세지를 보낸다.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[aPenHolder replacePen:aPen withPen:bPen];</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>컴파일러는 위의 코드를 보고 메소드의 이름을 <code>replacePen:withPen:</code>이라고 인식한다. 그러므로 컴파일 과정에서 <code>objc_msgSend()</code> 런타임 API를 사용하는 코드로 대체한다.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">objc_msgSend(aPenHolder, @selector(replacePen:withPen:), aPen, bPen);</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>실행 중에 Objective-C 런타임은 <code>objc_msgSend()</code>를 실행하면서 메세지로 어떠한 메소드를 실행할지 메세지 디스패치 과정을 통해 찾아낸다.<ul>
<li>수신 객체의 클래스 타입(<code>objc_msgSend()</code>의 첫 번째 인자)과 메세지 셀렉터(<code>objc_msgSend()</code>의 두 번째 인자)를 기준으로 어떤 메소드를 실행할지 선택한다.</li>
<li>상속 관계가 있는 경우 다형성을 따라 상위 클래스의 메소드를 선택할 수 있다.</li>
</ul>
</li>
<li>어떤 메소드를 실행할지 셀렉터를 고른 후, 해당 객체의 메소드 구현부 메모리 주소를 확인하여 메소드를 호출할 준비를 끝낸다.<ul>
<li><code>IMP(aPenHolder, @selector(replacePen:withPen:), aPen, bPen)</code>과 같은 형태로 구현부 메모리 주소를 얻는다.</li>
<li>메모리 주소는 내부 캐시에 저장되고 이후에는 캐시에서 먼저 찾는다.</li>
<li>해시 값으로 캐시를 확인하며, 데이터가 없거나 메모리 주소가 바뀌면 새로 업데이트된다.</li>
</ul>
</li>
</ol>
<h3 id="최신-런타임-API"><a href="#최신-런타임-API" class="headerlink" title="최신 런타임 API"></a>최신 런타임 API</h3><ul>
<li>클래스 관리 API : 클래스 이름이나 수퍼 클래스, 인스턴스 변수를 찾거나 프로퍼티나 프로토콜을 추가하거나 레이아웃 조정</li>
<li>클래스 추가 API : 실행 중에 클래스와 메타 클래스를 생성하고 등록, 메모리에 로드한 클래스와 메타 클래스 파괴</li>
<li>객체 인스턴스 생성 API : 객체 인스턴스를 메모리에 생성하거나 해제</li>
<li>객체 인스턴스 관리 API : 객체 인스턴스에 대한 인스턴스 변수를 관리하거나 클래스 타입 검색</li>
<li>클래스 메타 정보 API : 클래스 메타 정보를 기준으로 등록된 클래스 목록과 클래스 타입이나 메타 클래스 정보 검색</li>
<li>인스턴스 변수 관리 API : 인스턴스 변수 타입에 대한 변수 이름, 타입 이름, 오프셋 관리</li>
<li>연관 참조 API : 객체에 연관된 정보 관리</li>
<li>메세지 전송 API : 객체에 메세지 전송</li>
<li>메소드 관리 API : 메소드 타입에 대한 호출, 구현부 관리, 셀렉터 검색, 구현부 검색</li>
<li>라이브러리 관리 API : 프레임워크나 동적 라이브러리 정보 확인</li>
<li>셀렉터 관리 API : 셀렉터 타입과 관련된 정보 관리</li>
<li>프로토콜 관리 API : 프로토콜 타입과 프로토콜 인스턴스 관리</li>
<li>프로퍼티 관리 API : 프로퍼티와 프로퍼티 속성 관리</li>
<li>언어 기능 API : 반복문이나 블록, 약한 참조 등의 언어 기능 관련</li>
</ul>
<h3 id="요약-3"><a href="#요약-3" class="headerlink" title="요약"></a>요약</h3><p>Objective-C 런타임이 제공하는 API와 실행 중에 객체와 메소드, 블록 같은 언어 기능을 처리하는 방식을 알아두면 내부 동작을 이해하는 데 도움을 줄 것이다.</p>
<p>런타임 API를 사용하면 실행 중에 클래스나 객체의 구조나 함수를 바꾸는 동작이 가능하다. (리플렉션)</p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Posts</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/categories/">Category</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#객체"><span class="toc-number">1.</span> <span class="toc-text">객체</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#클래스와-객체-인스턴스"><span class="toc-number">1.1.</span> <span class="toc-text">클래스와 객체 인스턴스</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#객체에-대한-철학"><span class="toc-number">1.1.1.</span> <span class="toc-text">객체에 대한 철학</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#객체-중심-프로그래밍"><span class="toc-number">1.1.2.</span> <span class="toc-text">객체 중심 프로그래밍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#랑그"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">랑그</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#파롤"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">파롤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Objective-C-객체"><span class="toc-number">1.1.3.</span> <span class="toc-text">Objective-C 객체</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Objective-C-기초-문법"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">Objective-C 기초 문법</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#클래스-명세와-객체-인스턴스"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">클래스 명세와 객체 인스턴스</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Objective-C-2-0-이후-변화"><span class="toc-number">1.1.4.</span> <span class="toc-text">Objective-C 2.0 이후 변화</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Swift-네이티브-객체"><span class="toc-number">1.1.5.</span> <span class="toc-text">Swift 네이티브 객체</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-네이티브-객체의-생성-및-소멸-함수"><span class="toc-number">1.1.5.1.</span> <span class="toc-text">Swift 네이티브 객체의 생성 및 소멸 함수</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-네이티브-객체의-getter-및-setter-함수"><span class="toc-number">1.1.5.2.</span> <span class="toc-text">Swift 네이티브 객체의 getter 및 setter 함수</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Swift-Objective-C-호환-객체"><span class="toc-number">1.1.6.</span> <span class="toc-text">Swift - Objective-C 호환 객체</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#요약"><span class="toc-number">1.1.7.</span> <span class="toc-text">요약</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#객체-정체성과-등가성"><span class="toc-number">1.2.</span> <span class="toc-text">객체 정체성과 등가성</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Objective-C-객체와-메모리-구조"><span class="toc-number">1.2.1.</span> <span class="toc-text">Objective-C 객체와 메모리 구조</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#객체-정체성"><span class="toc-number">1.2.2.</span> <span class="toc-text">객체 정체성</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#객체-등가성"><span class="toc-number">1.2.3.</span> <span class="toc-text">객체 등가성</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#객체-예외성"><span class="toc-number">1.2.4.</span> <span class="toc-text">객체 예외성</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift의-문자열"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">Swift의 문자열</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hash-메소드"><span class="toc-number">1.2.5.</span> <span class="toc-text">-hash 메소드</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift의-Hashable-프로토콜"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">Swift의 Hashable 프로토콜</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#요약-1"><span class="toc-number">1.2.6.</span> <span class="toc-text">요약</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#객체-사이-관계"><span class="toc-number">1.3.</span> <span class="toc-text">객체 사이 관계</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#메타-클래스"><span class="toc-number">1.3.1.</span> <span class="toc-text">메타 클래스</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#상속"><span class="toc-number">1.3.2.</span> <span class="toc-text">상속</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#is-a-관계와-has-a-관계"><span class="toc-number">1.3.3.</span> <span class="toc-text">is-a 관계와 has-a 관계</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#요약-2"><span class="toc-number">1.3.4.</span> <span class="toc-text">요약</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Objective-C-런타임"><span class="toc-number">1.4.</span> <span class="toc-text">Objective-C 런타임</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#기존-런타임과-최신-런타임"><span class="toc-number">1.4.1.</span> <span class="toc-text">기존 런타임과 최신 런타임</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#메세지-디스패치"><span class="toc-number">1.4.2.</span> <span class="toc-text">메세지 디스패치</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#객체에-메세지를-보내는-과정"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">객체에 메세지를 보내는 과정</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#최신-런타임-API"><span class="toc-number">1.4.3.</span> <span class="toc-text">최신 런타임 API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#요약-3"><span class="toc-number">1.4.4.</span> <span class="toc-text">요약</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/" target="_blank" rel="noopener"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&text=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&title=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&is_video=false&description=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Cocoa Internals - 객체&body=Check out this article: http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&title=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&title=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&title=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&title=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&name=Cocoa Internals - 객체&description=" target="_blank" rel="noopener"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://news.ycombinator.com/submitlink?u=http://presto95.github.io/2020/01/18/Cocoa-Internals-%EA%B0%9D%EC%B2%B4/&t=Cocoa Internals - 객체" target="_blank" rel="noopener"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2020 Presto
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Posts</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/categories/">Category</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'presto95';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


</body>
</html>
